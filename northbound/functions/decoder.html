<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
   <link rel="stylesheet" href="../../index.css">
   <link rel="stylesheet" href="functions.css">

</head>
<body>
   <div class="container">
      <div class="navigate-button">
         <a href="../../index.html" >Back to homepage</a>
         <a href="../northbound_options.html" >Back to Northbound menu</a>

      </div>
      <h2 class="title">NECTOR Decoder</h2>
      <div class="center-container">
         <p> It is responsible for performing the NC decoding at chunk level. It
            sends source chunks to the VGRAM. </p>
            <img src="assets/decoder_c3.PNG" />
         </div>
         <h3>Three sub-functional blocks for NECTOR Encoder</h3>
         <ul>
            <li><b>NECTOR Decoder at C3</b></li>
            <li class="list-title">Decoder building blocks</li>
            <li class="underline"></li>
            <li></li>
            <li>Chunk Collector: collects coded chunks from seeders via NECTOR client. 
               These are passed to the NC Progressive Decoder.</li>
            <li class="underline3"></li>

            <li>NC Progressive Decoder: Performs network decoding using Pascal matrices. 
               NECTOR Client is notified to stop the downloading via "Stop Downloading".</li>
            <li class="underline3"></li>

            <li>Receive NECTOR file:The NECTOR File is sent by the NECTOR Fixed Tracker. 
               the Nector Client can start downloading this file.</li>
            <li class="underline3"></li>

            <li>Chunk Hash Verification: once chunks are decoded, here can they be verified.</li>
         </ul>






         <div class="content">
            <svg id="more-arrows">
              <polygon class="arrow-top" points="37.6,27.9 1.8,1.3 3.3,0 37.6,25.3 71.9,0 73.7,1.3 "/>
              <polygon class="arrow-middle" points="37.6,45.8 0.8,18.7 4.4,16.4 37.6,41.2 71.2,16.4 74.5,18.7 "/>
              <polygon class="arrow-bottom" points="37.6,64 0,36.1 5.1,32.8 37.6,56.8 70.4,32.8 75.5,36.1 "/>
            </svg>
          </div>
      
          <h2 class="title">Decoder - Code</h2>
          <ul>
            
            <li class="list-title">nector-encoder.cc</li>
            <li class="underline2"></li>
            
            <li class="function-name"><u>Constructor (NECTORDecoder)</u></li>
            <li>Parameters: encoder, downloads Directory, shared Memory Writer</li>
            <li>Function 1: Nector file to null (ptr), deallocate memory to false, 
                  decoding completed -> false.
            </li>

            <li class="function-name"><u>Destructor (NECTORDecoder)</u></li>
            <li>Function 1: clean up</li>


            <li class="function-name"><u> Clean up (internal_cleanup)</u></li>
            <li>Parameters: encoder, downloads Directory, shared Memory Writer</li>
            <li>Function 1: Clean up the encoder before disposing, deallocate 
               memory , output data to null and the size to 0 
            </li>
            <li>Function 2: Destination file is open, and check for error</li>
            <li>Function 3: Destination file name -> clear </li>


            <li class="function-name"><u> Process new NECTORFile 
                (processNewFile_stage1)</u></li>
            <li>Parameters: nector File</li>
            <li>Function 1: Internal cleanup.</li>
            <li>Function 2: Extract file name, size of the file , and copy 
               the file into the correct variable.
            </li>
            <li>Function 3: ???????? </li>


            <li class="function-name"><u> Process new NECTORFile 
               (processNewFile_stageNc)</u></li>
           <li>Parameters: scheme, data string, size</li>
           <li>Function 1: ??????????? </li>


           <li class="function-name"><u> Process new NECTORFile 
            (processNewFileToDownload)</u></li>
           <li>Parameters: nector File</li>
           <li>Function 1: mute </li>











            <li class="list-title">chunk-collector.cc</li>
            <li class="underline2"></li>

            <li class="function-name"><u>Constructor ( ChunkCollector )</u></li>


            <li class="function-name"><u>Destructor ( ChunkCollector )</u></li>
            <li>Function 1: Simple clean up</li>

            <li class="function-name"><u>Clean up ( cleanup )</u></li>
            <li>Function 1: take the map of all the chunks</li>
            <li>Function 2: Iterate through all the chunks abd erase delete them</li>

            <li class="function-name"><u>Add a slice  ( addSlice )</u></li>
            <li>Parameter : nectorSlice</li>
            <li>Function 1: generate the chunk ID</li>
            <li>Function 2: Find the chunk or create a new one</li>
            <li>Function 3: if the chunk iterator is not at 
               its end create a new nector chunk</li>


            <li class="function-name"><u>Output operator  ( operator )</u></li>
            <li>Parameter : OS, chunkCollector</li>
            <li>Function 1: Iterate through the chunk collector and
               print each chunk.
            </li>


         </ul>
   </div>
</body>
</html>